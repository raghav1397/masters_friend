{"ast":null,"code":"import _objectSpread from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _defineProperty from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{Component}from\"react\";import{Button,Form,Alert}from\"reactstrap\";import withAuthorization from\"./withAuthorization\";//redirects to sign in if user not signed in\nimport{auth}from\"../firebase\";import{db}from\"../firebase\";import{storage}from'../firebase/auth';var byPropKey=function byPropKey(propertyName,value){return function(){return _defineProperty({},propertyName,value);};};var INITIAL_STATE={email:\"\",error:null,showingAlert:false,users:null,username:'',loading:true,first_name:'',last_name:'',grade:'',update:0,gre:'',we:'',toefl:'',resume:'',sop:'',entry:'',uid:'',redirect:null,lor1:'',lor2:'',lor3:'',lor4:'',progresssop:'',progressresume:'',url_resume:'',url_sop:''};var AccountPage=/*#__PURE__*/function(_Component){_inherits(AccountPage,_Component);var _super=_createSuper(AccountPage);function AccountPage(){var _this;_classCallCheck(this,AccountPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.Previewresume=function(e){var name1=_this.state.uid+\"_resume.pdf\";var dateRef=storage.ref(\"resume/\".concat(_this.state.uid));dateRef.child(\"\".concat(name1)).getDownloadURL().then(function(url){console.log(url);var win=window.open(url,'_blank');if(win!=null){win.focus();}}).catch(function(error){// Handle any errors\nvar url1='';var win=window.open(url1,'_blank');if(win!=null){win.focus();}});};_this.Previewsop=function(e){var name1=_this.state.uid+\"_sop.pdf\";var dateRef=storage.ref(\"sop/\".concat(_this.state.uid));dateRef.child(\"\".concat(name1)).getDownloadURL().then(function(url){console.log(url);var win=window.open(url,'_blank');if(win!=null){win.focus();}}).catch(function(error){// Handle any errors\nvar url1='';var win=window.open(url1,'_blank');if(win!=null){win.focus();}});};_this.Page=function(e){_this.props.history.push('/Home');};_this.state=_objectSpread({},INITIAL_STATE);_this.onSubmit=function(event){var email=_this.state.email;auth.doPasswordReset(email).then(function(){_this.setState(_objectSpread({},INITIAL_STATE));}).catch(function(error){_this.setState(byPropKey(\"error\",error));_this.timer();//show alert message for some seconds\n});event.preventDefault();setTimeout(function(){window.location.reload(1);},3000);};_this.timer=function(){_this.setState({showingAlert:true});setTimeout(function(){_this.setState({showingAlert:false});},4000);};return _this;}_createClass(AccountPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var loggedUser=this.props.loggedUser;console.log(loggedUser.uid);if(loggedUser){db.doGetAnUnser(loggedUser.uid).then(function(res){_this2.setState({username:res.val().username,email:res.val().email,loading:false,uid:loggedUser.uid});console.log(res.val());});}db.doGetForm(loggedUser.uid).then(function(res){_this2.setState({first_name:res.val().first_name,last_name:res.val().last_name,grade:res.val().grade,gre:res.val().gre,we:res.val().work_ex,toefl:res.val().toefl,lor1:res.val().lor1,lor2:res.val().lor2,lor3:res.val().lor3,lor4:res.val().lor4});console.log(res.val());});}},{key:\"render\",value:function render(){var _this$state=this.state,error=_this$state.error,showingAlert=_this$state.showingAlert;return/*#__PURE__*/React.createElement(\"div\",null,showingAlert&&/*#__PURE__*/React.createElement(Alert,{color:\"danger\",onLoad:this.timer},error.message),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h5\",null,\"Reset Link will be sent to your Email\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Reset My Password\"))),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h1\",{className:\"h3 mb-3 font-weight-normal\"},\"Your Form Data\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"First name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"first_name\",disabled:true,value:this.state.first_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Last name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"last_name\",disabled:true,value:this.state.last_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"grade\"},\"College CGPA\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",disabled:true,name:\"grade\",value:this.state.grade})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"gre\"},\"GRE\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",disabled:true,pattern:\"[0-9]*\",name:\"gre\",value:this.state.gre})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"we\"},\"Work Experience (Months)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",disabled:true,pattern:\"[0-9]*\",name:\"we\",value:this.state.we})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"toefl\"},\"TOEFL/IELTS Score\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",disabled:true,pattern:\"[0-9]*\",name:\"toefl\",value:this.state.toefl})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor1\"},\"Designation of your LOR Provider 1\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",disabled:true,name:\"first_name\",value:this.state.lor1.label})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor2\"},\"Designation of your LOR Provider 2\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",disabled:true,name:\"first_name\",value:this.state.lor2.label})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor3\"},\"Designation of your LOR Provider 3\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",disabled:true,name:\"first_name\",value:this.state.lor3.label})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor4\"},\"Designation of your LOR Provider 4\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",disabled:true,name:\"first_name\",value:this.state.lor4.label})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"resume\"},\"Uploaded Resume\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:this.Previewresume},\"Preview Resume\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sop\"},\"Uploaded SOP\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:this.Previewsop},\"Preview Resume\")),/*#__PURE__*/React.createElement(\"p\",null,\"NOTE : If you have not updated a field in the form, the field will be blank !!!\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:this.Page},\"Click Here to Edit your Form\")),/*#__PURE__*/React.createElement(\"br\",null));}}]);return AccountPage;}(Component);var authCondition=function authCondition(authUser){return!!authUser&&authUser.providerData[0].providerId!==\"facebook.com\";};//true and false\nexport default withAuthorization(authCondition)(AccountPage);","map":{"version":3,"sources":["/Users/raghav/Documents/cc/masters/mastersfriend/src/components/Account.js"],"names":["React","Component","Button","Form","Alert","withAuthorization","auth","db","storage","byPropKey","propertyName","value","INITIAL_STATE","email","error","showingAlert","users","username","loading","first_name","last_name","grade","update","gre","we","toefl","resume","sop","entry","uid","redirect","lor1","lor2","lor3","lor4","progresssop","progressresume","url_resume","url_sop","AccountPage","Previewresume","e","name1","state","dateRef","ref","child","getDownloadURL","then","url","console","log","win","window","open","focus","catch","url1","Previewsop","Page","props","history","push","onSubmit","event","doPasswordReset","setState","timer","preventDefault","setTimeout","location","reload","loggedUser","doGetAnUnser","res","val","doGetForm","work_ex","message","label","authCondition","authUser","providerData","providerId"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, Alert } from \"reactstrap\";\nimport withAuthorization from \"./withAuthorization\"; //redirects to sign in if user not signed in\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport {storage} from '../firebase/auth';\n\nconst byPropKey = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\nconst INITIAL_STATE = {\n  email: \"\",\n  error: null,\n  showingAlert: false,\n  users: null,\n  username: '',\n  loading: true,\n  first_name: '',\n  last_name: '',\n  grade: '',\n  update: 0,\n  gre: '',\n  we: '',\n  toefl:'',\n  resume: '',\n  sop: '',\n  entry: '',\n  uid: '',\n  redirect: null,\n  lor1: '',\n  lor2: '',\n  lor3: '',\n  lor4: '',\n  progresssop: '',\n  progressresume: '',\n  url_resume: '',\n  url_sop: ''\n};\n\nclass AccountPage extends Component {\n  componentDidMount() {\n\n    const { loggedUser } = this.props;\n    console.log(loggedUser.uid)\n    if(loggedUser)\n    {\n    db.doGetAnUnser(loggedUser.uid).then(res => {\n      this.setState({\n        username: res.val().username,\n        email: res.val().email,\n        loading: false,\n        uid: loggedUser.uid\n      });\n      console.log(res.val())\n     \n    });\n    }\n    db.doGetForm(loggedUser.uid).then(res => {\n      this.setState({\n        first_name: res.val().first_name,\n        last_name: res.val().last_name,\n        grade: res.val().grade,\n        gre: res.val().gre,\n        we: res.val().work_ex,\n        toefl: res.val().toefl,\n        lor1: res.val().lor1,\n        lor2: res.val().lor2,\n        lor3: res.val().lor3,\n        lor4: res.val().lor4\n      });\n      console.log(res.val())\n    });\n  }\n\n  Previewresume = (e) => { \n    const name1 = this.state.uid + \"_resume.pdf\";\n    const dateRef = storage.ref(`resume/${this.state.uid}`);\n    dateRef.child(`${name1}`).getDownloadURL().then((url) => {\n      console.log(url)\n      const win = window.open(url, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    }).catch((error) => {\n      // Handle any errors\n      const url1 = '';\n      const win = window.open(url1, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    })\n    }\n\n  Previewsop = (e) => { \n    const name1 = this.state.uid + \"_sop.pdf\";\n    const dateRef = storage.ref(`sop/${this.state.uid}`);\n    dateRef.child(`${name1}`).getDownloadURL().then((url) => {\n      console.log(url)\n      const win = window.open(url, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    }).catch((error) => {\n      // Handle any errors\n      const url1 = '';\n      const win = window.open(url1, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    })\n    }\n\n    Page = (e) => { \n      this.props.history.push('/Home')\n      }\n\n  state = { ...INITIAL_STATE };\n\n  onSubmit = event => {\n    const email = this.state.email;\n\n    auth\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState(byPropKey(\"error\", error));\n        this.timer(); //show alert message for some seconds\n      });\n    event.preventDefault();\n    setTimeout(function () {\n      window.location.reload(1);\n  }, 3000);  \n  };\n\n  timer = () => {\n    this.setState({\n      showingAlert: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        showingAlert: false\n      });\n    }, 4000);\n\n  };\n\n  render() {\n    const { error, showingAlert } = this.state;\n\n    return (\n      <div>\n        {showingAlert && (\n          <Alert color=\"danger\" onLoad={this.timer}>\n            {error.message}\n          </Alert>\n        )}\n        <br></br>\n        <h5>Reset Link will be sent to your Email</h5>\n        <br></br>\n        <Form onSubmit={this.onSubmit}>\n          <div className=\"text-center\">\n            <Button type=\"submit\">\n              Reset My Password\n            </Button>\n          </div>\n        </Form>\n          <form >\n            <br></br>\n            <h1 className=\"h3 mb-3 font-weight-normal\">Your Form Data</h1>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">First name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"first_name\"\n                disabled= {true}\n                value={this.state.first_name}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Last name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"last_name\"\n                disabled= {true}\n                value={this.state.last_name}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"grade\">College CGPA</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                disabled= {true}\n                name=\"grade\"\n                value={this.state.grade}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"gre\">GRE</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                disabled= {true}\n                pattern=\"[0-9]*\"\n                name=\"gre\"\n                value={this.state.gre}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"we\">Work Experience (Months)</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                disabled= {true}\n                pattern=\"[0-9]*\"\n                name=\"we\"\n                value={this.state.we}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"toefl\">TOEFL/IELTS Score</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                disabled= {true}\n                pattern=\"[0-9]*\"\n                name=\"toefl\"\n                value={this.state.toefl}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"lor1\">Designation of your LOR Provider 1</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                disabled= {true}\n                name=\"first_name\"\n                value={this.state.lor1.label}\n              />\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor2\">Designation of your LOR Provider 2</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                disabled= {true}\n                name=\"first_name\"\n                value={this.state.lor2.label}\n              />\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor3\">Designation of your LOR Provider 3</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                disabled= {true}\n                name=\"first_name\"\n                value={this.state.lor3.label}\n              />\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor4\">Designation of your LOR Provider 4</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                disabled= {true}\n                name=\"first_name\"\n                value={this.state.lor4.label}\n              />\n          </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"resume\">Uploaded Resume</label>\n              <br></br>\n              <Button type=\"button\" onClick={this.Previewresume}>\n                  Preview Resume\n              </Button>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"sop\">Uploaded SOP</label>\n              <br></br>\n              <Button type=\"button\" onClick={this.Previewsop}>\n                  Preview Resume\n              </Button>\n            </div>\n            <p>NOTE : If you have not updated a field in the form, the field will be blank !!!</p>\n            <Button type=\"button\" onClick={this.Page}>\n                  Click Here to Edit your Form\n              </Button>\n          </form>\n          <br></br>\n      </div>\n    );\n  }\n}\n\nconst authCondition = authUser =>\n  !!authUser && authUser.providerData[0].providerId !== \"facebook.com\"; //true and false\n\nexport default withAuthorization(authCondition)(AccountPage);"]},"metadata":{},"sourceType":"module"}