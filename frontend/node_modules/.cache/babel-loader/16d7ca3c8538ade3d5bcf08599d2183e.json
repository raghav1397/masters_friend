{"ast":null,"code":"import _objectSpread from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/src/components/PasswordForget.js\";\n\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\nimport { auth } from \"../firebase\";\nimport * as routes from \"../constants/routes\"; //it resets your password. It doesn’t matter if you are authenticated or not\n\nvar PasswordForgetPage = function PasswordForgetPage() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centered\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, \"Forget Password\"), /*#__PURE__*/React.createElement(PasswordForgetForm1, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n}; //################### PasswordForget Form ###################\n\n\nvar INITIAL_STATE = {\n  email: \"\",\n  error: null,\n  showingAlert: false\n};\n\nvar PasswordForgetForm1 = /*#__PURE__*/function (_Component) {\n  _inherits(PasswordForgetForm1, _Component);\n\n  var _super = _createSuper(PasswordForgetForm1);\n\n  function PasswordForgetForm1() {\n    var _this2;\n\n    _classCallCheck(this, PasswordForgetForm1);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.state = _objectSpread({}, INITIAL_STATE);\n\n    _this2.onSubmit = function (event) {\n      var email = _this2.state.email;\n      auth.doPasswordReset(email).then(function () {\n        _this2.setState(_objectSpread({}, INITIAL_STATE));\n      }).catch(function (error) {\n        _this2.setState(byPropKey(\"error\", error));\n\n        _this2.timer(); //show alert message for some seconds\n\n      });\n      event.preventDefault();\n    };\n\n    _this2.timer = function () {\n      _this2.setState({\n        showingAlert: true\n      });\n\n      setTimeout(function () {\n        _this2.setState({\n          showingAlert: false\n        });\n      }, 4000);\n    };\n\n    return _this2;\n  }\n\n  _createClass(PasswordForgetForm1, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          error = _this$state.error,\n          showingAlert = _this$state.showingAlert;\n      var isInvalid = email === \"\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, showingAlert && /*#__PURE__*/React.createElement(Alert, {\n        color: \"danger\",\n        onLoad: this.timer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, error.message), /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"email\",\n        name: \"email\",\n        id: \"exampleEmail\",\n        placeholder: \"user@gmail.com\",\n        value: email,\n        onChange: function onChange(event) {\n          return _this3.setState(byPropKey(\"email\", event.target.value));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        disabled: isInvalid,\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, \"Reset My Password\"))));\n    }\n  }]);\n\n  return PasswordForgetForm1;\n}(Component); //################### PasswordForget Link ###################\n\n\nvar PasswordForgetLink = function PasswordForgetLink() {\n  return /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 3\n    }\n  }, \"Did you forgot password?\", /*#__PURE__*/React.createElement(Link, {\n    to: routes.PASSWORD_FORGET,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, \"RESET PASSWORD\"));\n};\n\nexport default PasswordForgetPage;\nexport { PasswordForgetForm1, PasswordForgetLink };","map":{"version":3,"sources":["/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/src/components/PasswordForget.js"],"names":["React","Component","Link","Button","Form","FormGroup","Label","Input","Alert","auth","routes","PasswordForgetPage","byPropKey","propertyName","value","INITIAL_STATE","email","error","showingAlert","PasswordForgetForm1","state","onSubmit","event","doPasswordReset","then","setState","catch","timer","preventDefault","setTimeout","isInvalid","message","target","PasswordForgetLink","PASSWORD_FORGET"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,KAAhD,QAA6D,YAA7D;AAEA,SAASC,IAAT,QAAqB,aAArB;AACA,OAAO,KAAKC,MAAZ,MAAwB,qBAAxB,C,CAEA;;AACA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,sBACzB;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADyB;AAAA,CAA3B;;AASA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,YAAD,EAAeC,KAAf;AAAA,SAAyB;AAAA,+BACxCD,YADwC,EACzBC,KADyB;AAAA,GAAzB;AAAA,CAAlB,C,CAIA;;;AACA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAE,EADa;AAEpBC,EAAAA,KAAK,EAAE,IAFa;AAGpBC,EAAAA,YAAY,EAAE;AAHM,CAAtB;;IAOMC,mB;;;;;;;;;;;;;;;WACJC,K,qBAAaL,a;;WAEbM,Q,GAAW,UAAAC,KAAK,EAAI;AAAA,UACVN,KADU,GACA,OAAKI,KADL,CACVJ,KADU;AAGlBP,MAAAA,IAAI,CACDc,eADH,CACmBP,KADnB,EAEGQ,IAFH,CAEQ,YAAM;AACV,eAAKC,QAAL,mBAAmBV,aAAnB;AACD,OAJH,EAKGW,KALH,CAKS,UAAAT,KAAK,EAAI;AACd,eAAKQ,QAAL,CAAcb,SAAS,CAAC,OAAD,EAAUK,KAAV,CAAvB;;AACA,eAAKU,KAAL,GAFc,CAEA;;AACf,OARH;AAUAL,MAAAA,KAAK,CAACM,cAAN;AACD,K;;WAEDD,K,GAAQ,YAAM;AACZ,aAAKF,QAAL,CAAc;AACZP,QAAAA,YAAY,EAAE;AADF,OAAd;;AAIAW,MAAAA,UAAU,CAAC,YAAM;AACf,eAAKJ,QAAL,CAAc;AACZP,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD,OAJS,EAIP,IAJO,CAAV;AAKD,K;;;;;;;6BAEQ;AAAA;;AAAA,wBACgC,KAAKE,KADrC;AAAA,UACCJ,KADD,eACCA,KADD;AAAA,UACQC,KADR,eACQA,KADR;AAAA,UACeC,YADf,eACeA,YADf;AAGP,UAAMY,SAAS,GAAGd,KAAK,KAAK,EAA5B;AAEA,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGE,YAAY,iBACX,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,QAAb;AAAsB,QAAA,MAAM,EAAE,KAAKS,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGV,KAAK,CAACc,OADT,CAFJ,eAOE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKV,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,EAAE,EAAC,cAHL;AAIE,QAAA,WAAW,EAAC,gBAJd;AAKE,QAAA,KAAK,EAAEL,KALT;AAME,QAAA,QAAQ,EAAE,kBAAAM,KAAK;AAAA,iBACb,MAAI,CAACG,QAAL,CAAcb,SAAS,CAAC,OAAD,EAAUU,KAAK,CAACU,MAAN,CAAalB,KAAvB,CAAvB,CADa;AAAA,SANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,eAeE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAEgB,SAAlB;AAA6B,QAAA,IAAI,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CAfF,CAPF,CADF;AA+BD;;;;EAnE+B7B,S,GAsElC;;;AACA,IAAMgC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,sBACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAC0B,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAEvB,MAAM,CAACwB,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAD1B,CADyB;AAAA,CAA3B;;AAMA,eAAevB,kBAAf;AAEA,SAASQ,mBAAT,EAA8Bc,kBAA9B","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input, Alert } from \"reactstrap\";\n\nimport { auth } from \"../firebase\";\nimport * as routes from \"../constants/routes\";\n\n//it resets your password. It doesn’t matter if you are authenticated or not\nconst PasswordForgetPage = () => (\n  <div className=\"div-flex\">\n    <div>\n      <h1 className=\"centered\">Forget Password</h1>\n      <PasswordForgetForm1 />\n    </div>\n  </div>\n);\n\nconst byPropKey = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\n//################### PasswordForget Form ###################\nconst INITIAL_STATE = {\n  email: \"\",\n  error: null,\n  showingAlert: false\n};\n\n\nclass PasswordForgetForm1 extends Component {\n  state = { ...INITIAL_STATE };\n\n  onSubmit = event => {\n    const { email } = this.state;\n\n    auth\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState(byPropKey(\"error\", error));\n        this.timer(); //show alert message for some seconds\n      });\n\n    event.preventDefault();\n  };\n\n  timer = () => {\n    this.setState({\n      showingAlert: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        showingAlert: false\n      });\n    }, 4000);\n  };\n\n  render() {\n    const { email, error, showingAlert } = this.state;\n\n    const isInvalid = email === \"\";\n\n    return (\n      <div>\n        {showingAlert && (\n          <Alert color=\"danger\" onLoad={this.timer}>\n            {error.message}\n          </Alert>\n        )}\n\n        <Form onSubmit={this.onSubmit}>\n          <FormGroup>\n            <Label for=\"exampleEmail\">Email</Label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              id=\"exampleEmail\"\n              placeholder=\"user@gmail.com\"\n              value={email}\n              onChange={event =>\n                this.setState(byPropKey(\"email\", event.target.value))\n              }\n            />\n          </FormGroup>\n\n          <div className=\"text-center\">\n            <Button disabled={isInvalid} type=\"submit\">\n              Reset My Password\n            </Button>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n\n//################### PasswordForget Link ###################\nconst PasswordForgetLink = () => (\n  <p>\n    Did you forgot password?<Link to={routes.PASSWORD_FORGET}>RESET PASSWORD</Link>\n  </p>\n);\n\nexport default PasswordForgetPage;\n\nexport { PasswordForgetForm1, PasswordForgetLink };\n\n\n"]},"metadata":{},"sourceType":"module"}