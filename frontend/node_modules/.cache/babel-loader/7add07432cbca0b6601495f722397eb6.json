{"ast":null,"code":"import _objectSpread from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/src/components/SignIn.js\";\n\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Row, Col, Input, Alert, Container } from \"reactstrap\";\nimport { GoogleLoginButton } from \"react-social-login-buttons\";\nimport { withRouter } from \"react-router-dom\";\nimport { SignUpLink } from \"./SignUp\";\nimport { PasswordForgetLink } from \"./PasswordForget\";\nimport { auth, db } from \"../firebase\";\nimport * as routes from \"../constants/routes\";\nimport Navigation from \"./Navigation\";\n\nvar SignInPage = function SignInPage(_ref) {\n  var history = _ref.history;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centered\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(SignInForm, {\n    history: history,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"text-center text-md-right\",\n    xs: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignUpLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 59\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-center text-md-left\",\n    xs: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PasswordForgetLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 58\n    }\n  })))));\n};\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n};\n\nvar INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null,\n  showingAlert: false\n};\n\nvar SignInForm = /*#__PURE__*/function (_Component) {\n  _inherits(SignInForm, _Component);\n\n  var _super = _createSuper(SignInForm);\n\n  function SignInForm() {\n    var _this2;\n\n    _classCallCheck(this, SignInForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.state = _objectSpread({}, INITIAL_STATE);\n\n    _this2.onSubmit = function (event) {\n      var _this2$state = _this2.state,\n          email = _this2$state.email,\n          password = _this2$state.password;\n      var history = _this2.props.history;\n      auth.doSignInWithEmailAndPassword(email, password).then(function () {\n        _this2.setState(_objectSpread({}, INITIAL_STATE));\n\n        history.push(routes.HOME);\n      }).catch(function (error) {\n        _this2.setState(byPropKey(\"error\", error));\n\n        _this2.timer(); //defined below\n\n      });\n      event.preventDefault();\n    };\n\n    _this2.facebookLogin = function () {\n      var history = _this2.props.history;\n      auth.GoogleAuthProvide().then(function (authUser) {\n        console.log(\"authUser\", authUser);\n        db.doCreateUser( //store some info from facebook into the firebase db\n        authUser.user.uid, authUser.user.displayName, authUser.user.email).then(function () {\n          // this.setState({\n          //   ...INITIAL_STATE\n          // });\n          history.push(routes.HOME); //redirects to Home Page\n        }).catch(function (error) {\n          _this2.setState(byPropKey(\"error\", error));\n        });\n      }).catch(function (error) {\n        _this2.setState(byPropKey(\"error\", error));\n      });\n    };\n\n    _this2.timer = function () {\n      _this2.setState({\n        showingAlert: true\n      });\n\n      setTimeout(function () {\n        _this2.setState({\n          showingAlert: false\n        });\n      }, 4000);\n    };\n\n    return _this2;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          error = _this$state.error,\n          showingAlert = _this$state.showingAlert;\n      var isInvalid = password === \"\" || email === \"\";\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Navigation, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }\n      }, showingAlert && /*#__PURE__*/React.createElement(Alert, {\n        color: \"danger\",\n        onLoad: this.timer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, error.message), /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: {\n          size: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"email\",\n        name: \"email\",\n        id: \"exampleEmail\",\n        placeholder: \"user@gmail.com\",\n        value: email,\n        onChange: function onChange(event) {\n          return _this3.setState(byPropKey(\"email\", event.target.value));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: {\n          size: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplePassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        name: \"password\",\n        id: \"examplePassword\",\n        placeholder: \"pass-test\",\n        value: password,\n        onChange: function onChange(event) {\n          return _this3.setState(byPropKey(\"password\", event.target.value));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: {\n          size: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        disabled: isInvalid,\n        className: \"btn-round\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, \"Sign In\"))))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: {\n          size: 6,\n          offset: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(GoogleLoginButton, {\n        className: \"btn-round\",\n        onClick: this.facebookLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }\n      }, \"NOTE: University Suggestor is only accessible by signed in users.\")))));\n    }\n  }]);\n\n  return SignInForm;\n}(Component);\n\nexport default withRouter(SignInPage);\nexport { SignInForm };","map":{"version":3,"sources":["/mnt/data/ASU_MS_CS/Spring2020/CSE_545_Cloud_Computing/masters_friend/frontend/src/components/SignIn.js"],"names":["React","Component","Button","Form","FormGroup","Label","Row","Col","Input","Alert","Container","GoogleLoginButton","withRouter","SignUpLink","PasswordForgetLink","auth","db","routes","Navigation","SignInPage","history","byPropKey","propertyName","value","INITIAL_STATE","email","password","error","showingAlert","SignInForm","state","onSubmit","event","props","doSignInWithEmailAndPassword","then","setState","push","HOME","catch","timer","preventDefault","facebookLogin","GoogleAuthProvide","authUser","console","log","doCreateUser","user","uid","displayName","setTimeout","isInvalid","message","size","offset","target"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Row, Col, Input, Alert, Container } from \"reactstrap\";\nimport {  GoogleLoginButton } from \"react-social-login-buttons\";\n\nimport { withRouter } from \"react-router-dom\";\n\nimport { SignUpLink } from \"./SignUp\";\nimport { PasswordForgetLink } from \"./PasswordForget\";\nimport { auth, db } from \"../firebase\";\nimport * as routes from \"../constants/routes\";\nimport Navigation from \"./Navigation\";\n\nconst SignInPage = ({ history }) => {\n  return (\n    <div className=\"div-flex\">\n      <div>\n        <h1 className=\"centered\">Sign In</h1>\n        {/* <img src={logo} className=\"App-logo\" alt=\"My logo\" /> */}\n\n        <SignInForm history={history} />\n        <Row>\n        <Col className=\"text-center text-md-right\" xs=\"6\"><SignUpLink /></Col>\n        <Col className=\"text-center text-md-left\" xs=\"6\"><PasswordForgetLink /></Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nconst byPropKey = (propertyName, value) => () => ({\n  [propertyName]: value\n});\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null,\n  showingAlert: false\n};\n\nclass SignInForm extends Component {\n  state = { ...INITIAL_STATE };\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    const { history } = this.props;\n\n    auth\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        history.push(routes.HOME);\n      })\n      .catch(error => {\n        this.setState(byPropKey(\"error\", error));\n        this.timer(); //defined below\n      });\n\n    event.preventDefault();\n  };\n\n  facebookLogin = () => {\n    const { history } = this.props;\n    auth\n      .GoogleAuthProvide()\n      .then(authUser => {\n        console.log(\"authUser\", authUser);\n\n        db.doCreateUser(\n          //store some info from facebook into the firebase db\n          authUser.user.uid,\n          authUser.user.displayName,\n          authUser.user.email\n        )\n          .then(() => {\n            // this.setState({\n            //   ...INITIAL_STATE\n            // });\n            history.push(routes.HOME); //redirects to Home Page\n          })\n          .catch(error => {\n            this.setState(byPropKey(\"error\", error));\n          });\n      })\n      .catch(error => {\n        this.setState(byPropKey(\"error\", error));\n      });\n  };\n\n  timer = () => {\n    this.setState({\n      showingAlert: true\n    });\n\n    setTimeout(() => {\n      this.setState({\n        showingAlert: false\n      });\n    }, 4000);\n  };\n\n\n  render() {\n    const { email, password, error, showingAlert } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n\n    return (\n      <Container>\n      <Navigation/>\n      <div>\n        {showingAlert && (\n          <Alert color=\"danger\" onLoad={this.timer}>\n            {error.message}\n          </Alert>\n        )}\n\n        <Form onSubmit={this.onSubmit}>\n          <Row>\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n              <FormGroup>\n                <Label for=\"exampleEmail\">Email</Label>\n                <Input\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"exampleEmail\"\n                  placeholder=\"user@gmail.com\"\n                  value={email}\n                  onChange={event =>\n                    this.setState(byPropKey(\"email\", event.target.value))\n                  }\n                />\n              </FormGroup>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n              <FormGroup>\n                <Label for=\"examplePassword\">Password</Label>\n                <Input\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"examplePassword\"\n                  placeholder=\"pass-test\"\n                  value={password}\n                  onChange={event =>\n                    this.setState(byPropKey(\"password\", event.target.value))\n                  }\n                />\n              </FormGroup>\n            </Col>\n          </Row>\n          <Row>\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n              <div className=\"text-center\">\n                <Button disabled={isInvalid} className=\"btn-round\" type=\"submit\">\n                  Sign In\n                </Button>\n              </div>\n            </Col>\n          </Row>            \n          </Form>\n\n        <hr />\n        \n        <Row>\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n              <GoogleLoginButton className=\"btn-round\" onClick={this.facebookLogin} />\n        <br></br>\n        <p>\n          NOTE: University Suggestor is only accessible by signed in users.\n        </p>\n        </Col>\n        </Row>\n      </div>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(SignInPage);\n\nexport { SignInForm };\n\n"]},"metadata":{},"sourceType":"module"}