{"ast":null,"code":"import _defineProperty from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{storage}from'../firebase/auth';import{Button}from\"reactstrap\";import withAuthorization from\"./withAuthorization\";import{db}from\"../firebase\";import Select from'react-select';import axios from'axios';import ProgressBar from'react-bootstrap/ProgressBar';// import ReactDom from 'react-dom';\nvar HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.onChangeresume=function(e){var fileInput1=document.getElementById('file-id');var resume1=fileInput1.files[0];var resume_name=_this.state.uid+'_resume.pdf';if(resume1){resume1=new File([resume1],resume_name,{type:resume1.type});console.log(resume1);var uploadTask1=storage.ref(\"resume/\".concat(_this.state.uid,\"/\").concat(resume1.name)).put(resume1);uploadTask1.on('state_changed',function(snapshot){// progrss function ....\nvar progressresume=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);_this.setState({progressresume:progressresume});console.log(_this.state.progressresume);},function(error){// error function ....\nconsole.log(error);},function(){// complete function ...\nstorage.ref(\"resume/\".concat(_this.state.uid)).child(\"\".concat(resume1.name)).getDownloadURL().then(function(url){_this.setState({url_resume:url});console.log(_this.state.url_resume);});});}};_this.onChangesop=function(e){var fileInput2=document.getElementById('file-id2');var sop1=fileInput2.files[0];var sop_name=_this.state.uid+'_sop.pdf';if(sop1){sop1=new File([sop1],sop_name,{type:sop1.type});var uploadTask2=storage.ref(\"sop/\".concat(_this.state.uid,\"/\").concat(sop1.name)).put(sop1);uploadTask2.on('state_changed',function(snapshot){// progrss function ....\nvar progresssop=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);_this.setState({progresssop:progresssop});},function(error){// error function ....\nconsole.log(error);},function(){// complete function ...\nstorage.ref(\"sop/\".concat(_this.state.uid)).child(\"\".concat(sop1.name)).getDownloadURL().then(function(url){_this.setState({url_sop:url});console.log(_this.state.url_sop);});});}};_this.Previewresume=function(e){var name1=_this.state.uid+\"_resume.pdf\";var dateRef=storage.ref(\"resume/\".concat(_this.state.uid));dateRef.child(\"\".concat(name1)).getDownloadURL().then(function(url){console.log(url);var win=window.open(url,'_blank');if(win!=null){win.focus();}}).catch(function(error){// Handle any errors\nvar url1='';var win=window.open(url1,'_blank');if(win!=null){win.focus();}});};_this.Previewsop=function(e){var name1=_this.state.uid+\"_sop.pdf\";var dateRef=storage.ref(\"sop/\".concat(_this.state.uid));dateRef.child(\"\".concat(name1)).getDownloadURL().then(function(url){console.log(url);var win=window.open(url,'_blank');if(win!=null){win.focus();}}).catch(function(error){// Handle any errors\nvar url1='';var win=window.open(url1,'_blank');if(win!=null){win.focus();}});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=function(e){e.preventDefault();console.log(_this.state);db.doCreateFrom(_this.state.username,_this.state.email,_this.state.first_name,_this.state.last_name,_this.state.grade,_this.state.gre,_this.state.we,_this.state.toefl,_this.state.uid,_this.state.lor1,_this.state.lor2,_this.state.lor3,_this.state.lor4).then(function(){// this.props.history.push('/Predict')\n}).catch(function(error){});axios.post('https://masters-backend-1.wl.r.appspot.com/',{// axios.post('https://820aedbf.ngrok.io/', {\n'email':_this.state.email.toString(),'grade':_this.state.grade,'gre':_this.state.gre,'work_ex':_this.state.we,'toefl':_this.state.toefl,'uid':_this.state.uid.toString(),'lor1':_this.state.lor1,'lor2':_this.state.lor2,'lor3':_this.state.lor3,'lor4':_this.state.lor4}).then(function(response){console.log(response.data.mit.score);_this.setState({mit:response.data.mit.score,utd:response.data.utd.score,ncsu:response.data.ncsu.score,neu:response.data.neu.score,usc:response.data.usc.score});_this.props.history.push({pathname:'/Predict',state:{mit:_this.state.mit,first_name:_this.state.first_name,usc:_this.state.usc,ncsu:_this.state.ncsu,utd:_this.state.utd,neu:_this.state.neu}});},function(error){console.log(error);});};_this.state={users:null,username:'',loading:true,first_name:'',last_name:'',email:'',grade:'',update:0,gre:'',we:'',toefl:'',resume:'',sop:'',entry:'',uid:'',redirect:null,lor1:'',lor2:'',lor3:'',lor4:'',progresssop:'',progressresume:'',url_resume:'',url_sop:'',mit:'',utd:'',usc:'',neu:'',ncsu:''};return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var loggedUser=this.props.loggedUser;if(loggedUser){db.doGetAnUnser(loggedUser.uid).then(function(res){_this2.setState({username:res.val().username,email:res.val().email,loading:false,uid:loggedUser.uid});console.log(res.val());});}else{this.props.history.push('/SignIn');}db.doGetForm(loggedUser.uid).then(function(res){_this2.setState({first_name:res.val().first_name,last_name:res.val().last_name,grade:res.val().grade,gre:res.val().gre,we:res.val().work_ex,toefl:res.val().toefl,lor1:res.val().lor1,lor2:res.val().lor2,lor3:res.val().lor3,lor4:res.val().lor4});console.log(res.val());});}},{key:\"updateStatelor1\",value:function updateStatelor1(element){this.setState({lor1:element});console.log(this.state.lor1.value);}},{key:\"updateStatelor2\",value:function updateStatelor2(element){this.setState({lor2:element});console.log(this.state.lor2.value);}},{key:\"updateStatelor3\",value:function updateStatelor3(element){this.setState({lor3:element});console.log(this.state.lor3.value);}},{key:\"updateStatelor4\",value:function updateStatelor4(element){this.setState({lor4:element});console.log(this.state);}},{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,loading=_this$state.loading;var options=[{value:'6',label:'Professor (or) Manager'},{value:'4',label:'Associate Professor (or) Team Leader'},{value:'2',label:'Assistant Professor (or) Co-Worker'},{value:'0',label:'None'}];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"University Suggestor\"),!loading&&/*#__PURE__*/React.createElement(\"p\",{className:\"centered\"},\"Hello \",username,\"!\"),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"h1\",{className:\"h3 mb-3 font-weight-normal\"},\"Fill this Form\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"First name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"first_name\",placeholder:\"Enter your first name\",value:this.state.first_name,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Last name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"last_name\",placeholder:\"Enter your last name\",value:this.state.last_name,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"grade\"},\"College CGPA\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"grade\",placeholder:\"Enter Score\",value:this.state.grade,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"gre\"},\"GRE\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"gre\",placeholder:\"Enter Score\",value:this.state.gre,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"we\"},\"Work Experience (Months)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"we\",placeholder:\"Enter Months\",value:this.state.we,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"toefl\"},\"TOEFL/IELTS Score\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"toefl\",placeholder:\"Enter Score\",value:this.state.toefl,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor1\"},\"Designation of your LOR Provider 1\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor1\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor1,options:options,onChange:this.updateStatelor1.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor2\"},\"Designation of your LOR Provider 2\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor2\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor2,options:options,onChange:this.updateStatelor2.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor3\"},\"Designation of your LOR Provider 3\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor3\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor3,options:options,onChange:this.updateStatelor3.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor4\"},\"Designation of your LOR Provider 4\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor4\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor4,options:options,onChange:this.updateStatelor4.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"resume\"},\"Upload Resume\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"file-id\",name:\"resume\",className:\"form-control\"// value={this.state.resume}\n,onChange:this.onChangeresume}),/*#__PURE__*/React.createElement(ProgressBar,{animated:true,now:this.state.progressresume}),/*#__PURE__*/React.createElement(\"p\",null,\"NOTE : Preview the Document only after upload is complete....\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:this.Previewresume},\"Preview Resume\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sop\"},\"Upload SOP\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"file-id2\",name:\"sop\",className:\"form-control\"// value={this.state.sop}\n,onChange:this.onChangesop}),/*#__PURE__*/React.createElement(ProgressBar,{animated:true,now:this.state.progresssop}),/*#__PURE__*/React.createElement(\"p\",null,\"NOTE : Preview the Document only after upload is complete....\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:this.Previewsop},\"Preview SOP\")),/*#__PURE__*/React.createElement(\"button\",{// type=\"submit\"\nonClick:this.onSubmit,className:\"btn btn-lg btn-primary btn-block\"},\"Submit!\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"IMPORTANT : Make sure to fill all the fields or else confidence score of your univesity suggestion may reduce !!!!\"),/*#__PURE__*/React.createElement(\"p\",null,\"NOTE : This page is only accessible by signed in users.\"));}}]);return HomePage;}(Component);var authCondition=function authCondition(authUser){return!!authUser;};export default withAuthorization(authCondition)(HomePage);//grants authorization to open endpoint if an user is signed in","map":{"version":3,"sources":["/Users/raghav/Documents/cc/masters/mastersfriend/src/components/Home.js"],"names":["React","Component","storage","Button","withAuthorization","db","Select","axios","ProgressBar","HomePage","props","onChangeresume","e","fileInput1","document","getElementById","resume1","files","resume_name","state","uid","File","type","console","log","uploadTask1","ref","name","put","on","snapshot","progressresume","Math","round","bytesTransferred","totalBytes","setState","error","child","getDownloadURL","then","url","url_resume","onChangesop","fileInput2","sop1","sop_name","uploadTask2","progresssop","url_sop","Previewresume","name1","dateRef","win","window","open","focus","catch","url1","Previewsop","onChange","target","value","onSubmit","preventDefault","doCreateFrom","username","email","first_name","last_name","grade","gre","we","toefl","lor1","lor2","lor3","lor4","post","toString","response","data","mit","score","utd","ncsu","neu","usc","history","push","pathname","users","loading","update","resume","sop","entry","redirect","loggedUser","doGetAnUnser","res","val","doGetForm","work_ex","element","options","label","updateStatelor1","bind","updateStatelor2","updateStatelor3","updateStatelor4","authCondition","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {storage} from '../firebase/auth';\nimport { Button} from \"reactstrap\";\nimport withAuthorization from \"./withAuthorization\";\nimport { db } from \"../firebase\";\nimport Select from 'react-select';\nimport axios from 'axios';\nimport ProgressBar from 'react-bootstrap/ProgressBar'\n// import ReactDom from 'react-dom';\n\nclass HomePage extends Component {\n\n  constructor(props)\n  {\n    super(props)\n    this.state = {\n      users: null,\n      username: '',\n      loading: true,\n      first_name: '',\n      last_name: '',\n      email: '',\n      grade: '',\n      update: 0,\n      gre: '',\n      we: '',\n      toefl:'',\n      resume: '',\n      sop: '',\n      entry: '',\n      uid: '',\n      redirect: null,\n      lor1: '',\n      lor2: '',\n      lor3: '',\n      lor4: '',\n      progresssop: '',\n      progressresume: '',\n      url_resume: '',\n      url_sop: '',\n      mit: '',\n      utd: '',\n      usc: '',\n      neu: '',\n      ncsu: ''\n    };\n  }\n  componentDidMount() {\n\n    const { loggedUser } = this.props;\n    if(loggedUser)\n    {\n    db.doGetAnUnser(loggedUser.uid).then(res => {\n      this.setState({\n        username: res.val().username,\n        email: res.val().email,\n        loading: false,\n        uid: loggedUser.uid\n      });\n      console.log(res.val())\n     \n    });\n    }\n    else{\n      this.props.history.push('/SignIn')\n    }\n    db.doGetForm(loggedUser.uid).then(res => {\n      this.setState({\n        first_name: res.val().first_name,\n        last_name: res.val().last_name,\n        grade: res.val().grade,\n        gre: res.val().gre,\n        we: res.val().work_ex,\n        toefl: res.val().toefl,\n        lor1: res.val().lor1,\n        lor2: res.val().lor2,\n        lor3: res.val().lor3,\n        lor4: res.val().lor4\n      });\n      console.log(res.val())\n    });\n  }\n\n  onChangeresume = (e) => { \n    const fileInput1 = document.getElementById('file-id');\n    var resume1 = fileInput1.files[0];\n    const resume_name = this.state.uid + '_resume.pdf';\n    if(resume1)\n    {\n      resume1 = new File([resume1], resume_name, { type: resume1.type });\n      console.log(resume1)\n      const uploadTask1 = storage.ref(`resume/${this.state.uid}/${resume1.name}`).put(resume1);\n      uploadTask1.on('state_changed', \n      (snapshot) => {\n        // progrss function ....\n        const progressresume = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        this.setState({progressresume});\n        console.log(this.state.progressresume)\n      }, \n      (error) => {\n           // error function ....\n        console.log(error);\n      }\n      ,\n      () => {\n        // complete function ...\n        storage\n          .ref(`resume/${this.state.uid}`)\n          .child(`${resume1.name}`)\n          .getDownloadURL()\n          .then(url => {\n            this.setState({ url_resume: url });\n            console.log(this.state.url_resume)\n          });\n      }\n      );\n    }\n  }\n\n    onChangesop = (e) => { \n      \n      const fileInput2 = document.getElementById('file-id2');\n      var sop1 = fileInput2.files[0];\n      const sop_name = this.state.uid + '_sop.pdf';\n      \n      if(sop1)\n      {\n      sop1 = new File([sop1], sop_name, { type: sop1.type });\n        const uploadTask2 = storage.ref(`sop/${this.state.uid}/${sop1.name}`).put(sop1);\n        \n      uploadTask2.on('state_changed', \n        (snapshot) => {\n          // progrss function ....\n          const progresssop = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n          this.setState({progresssop});\n        }, \n        (error) => {\n             // error function ....\n          console.log(error);\n        }\n        ,\n      () => {\n        // complete function ...\n        storage\n          .ref(`sop/${this.state.uid}`)\n          .child(`${sop1.name}`)\n          .getDownloadURL()\n          .then(url => {\n            this.setState({ url_sop: url });\n            console.log(this.state.url_sop)\n          });\n      }\n        );\n      }\n    }\n\n    Previewresume = (e) => { \n      const name1 = this.state.uid + \"_resume.pdf\";\n    const dateRef = storage.ref(`resume/${this.state.uid}`);\n    dateRef.child(`${name1}`).getDownloadURL().then((url) => {\n      console.log(url)\n      const win = window.open(url, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    }).catch((error) => {\n      // Handle any errors\n      const url1 = '';\n      const win = window.open(url1, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    })\n    }\n\n    Previewsop = (e) => { \n      const name1 = this.state.uid + \"_sop.pdf\";\n    const dateRef = storage.ref(`sop/${this.state.uid}`);\n    dateRef.child(`${name1}`).getDownloadURL().then((url) => {\n      console.log(url)\n      const win = window.open(url, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    }).catch((error) => {\n      // Handle any errors\n      const url1 = '';\n      const win = window.open(url1, '_blank');\n    if (win != null) {\n    win.focus();\n    }\n    })\n    }\n\n  onChange = (e) => { \n    this.setState({ [e.target.name]: e.target.value })  \n  }\n  onSubmit = (e) => {\n    e.preventDefault()\n    console.log(this.state)\n      db.doCreateFrom(this.state.username,this.state.email,this.state.first_name,this.state.last_name,this.state.grade,this.state.gre,this.state.we,this.state.toefl,this.state.uid,this.state.lor1,this.state.lor2,this.state.lor3,this.state.lor4)\n          .then(() => {\n            // this.props.history.push('/Predict')\n          })\n          .catch(error => {\n          });\n\n          axios.post('https://masters-backend-1.wl.r.appspot.com/', {\n            // axios.post('https://820aedbf.ngrok.io/', {\n            'email': (this.state.email).toString(),\n            'grade': this.state.grade,\n            'gre': this.state.gre,\n            'work_ex': this.state.we,\n            'toefl': this.state.toefl,\n            'uid': (this.state.uid).toString(),\n            'lor1': this.state.lor1,\n            'lor2': this.state.lor2,\n            'lor3': this.state.lor3,\n            'lor4': this.state.lor4\n          })\n          .then((response) => {\n            console.log(response.data.mit.score);\n            this.setState({ \n              mit: response.data.mit.score,\n              utd: response.data.utd.score,\n              ncsu: response.data.ncsu.score,\n              neu: response.data.neu.score,\n              usc: response.data.usc.score\n             });\n             this.props.history.push({pathname:'/Predict',\n             state : {\n               mit: this.state.mit,\n               first_name: this.state.first_name,\n               usc: this.state.usc,\n               ncsu: this.state.ncsu,\n               utd: this.state.utd,\n               neu: this.state.neu\n             }\n            }\n             )\n          }, (error) => {\n            console.log(error);\n          });\n\n  }\n\n  updateStatelor1(element) {\n    this.setState({\n      lor1: element\n    });\n    console.log(this.state.lor1.value)\n  }\n  updateStatelor2(element) {\n    this.setState({\n      lor2: element\n    });\n    console.log(this.state.lor2.value)\n  }\n  updateStatelor3(element) {\n    this.setState({\n      lor3: element\n    });\n    console.log(this.state.lor3.value)\n  }\n  updateStatelor4(element) {\n    this.setState({\n      lor4: element\n    });\n    console.log(this.state)\n  }\n\n  render() {\n    const { username, loading } = this.state;\n    var options = [\n        { value: '6' , label: 'Professor (or) Manager' },\n        { value: '4', label: 'Associate Professor (or) Team Leader' },\n        { value: '2', label: 'Assistant Professor (or) Co-Worker' },\n        { value: '0' , label: 'None' }\n    ];\n\n    return (\n      <div>\n        <h1>University Suggestor</h1>\n        {!loading && <p className=\"centered\">Hello {username}!</p>}\n          <form noValidate onSubmit={this.onSubmit}>\n            <h1 className=\"h3 mb-3 font-weight-normal\">Fill this Form</h1>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">First name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"first_name\"\n                placeholder=\"Enter your first name\"\n                value={this.state.first_name}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Last name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"last_name\"\n                placeholder=\"Enter your last name\"\n                value={this.state.last_name}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"grade\">College CGPA</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"grade\"\n                placeholder=\"Enter Score\"\n                value={this.state.grade}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"gre\">GRE</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"gre\"\n                placeholder=\"Enter Score\"\n                value={this.state.gre}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"we\">Work Experience (Months)</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"we\"\n                placeholder=\"Enter Months\"\n                value={this.state.we}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"toefl\">TOEFL/IELTS Score</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"toefl\"\n                placeholder=\"Enter Score\"\n                value={this.state.toefl}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"lor1\">Designation of your LOR Provider 1</label>\n              <div>\n              <Select\n                name=\"lor1\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor1}\n                options={options}\n                onChange={this.updateStatelor1.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor2\">Designation of your LOR Provider 2</label>\n              <div>\n              <Select\n                name=\"lor2\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor2}\n                options={options}\n                onChange={this.updateStatelor2.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor3\">Designation of your LOR Provider 3</label>\n              <div>\n              <Select\n                name=\"lor3\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor3}\n                options={options}\n                onChange={this.updateStatelor3.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor4\">Designation of your LOR Provider 4</label>\n              <div>\n              <Select\n                name=\"lor4\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor4}\n                options={options}\n                onChange={this.updateStatelor4.bind(this)}\n              />\n            </div>\n          </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"resume\">Upload Resume</label>\n              <input\n                type=\"file\" \n                id=\"file-id\"\n                name=\"resume\"\n                className=\"form-control\"\n                // value={this.state.resume}\n                onChange={this.onChangeresume}\n              />\n              <ProgressBar animated now={this.state.progressresume} />\n              <p>NOTE : Preview the Document only after upload is complete....</p>\n              <Button type=\"button\" onClick={this.Previewresume}>\n                  Preview Resume\n              </Button>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"sop\">Upload SOP</label>\n              <input\n                type=\"file\" \n                id=\"file-id2\"\n                name=\"sop\"\n                className=\"form-control\"\n                // value={this.state.sop}\n                onChange={this.onChangesop}\n              />\n              <ProgressBar animated now={this.state.progresssop} />\n              <p>NOTE : Preview the Document only after upload is complete....</p>\n              <Button type=\"button\" onClick={this.Previewsop}>\n              Preview SOP\n              </Button>\n            </div>\n            <button\n              // type=\"submit\"\n              onClick={this.onSubmit}\n              className=\"btn btn-lg btn-primary btn-block\"\n            >\n              Submit!\n            </button>\n          </form>\n          <br></br>\n        <p>\n          IMPORTANT : Make sure to fill all the fields or else confidence score of your univesity suggestion may reduce !!!!\n          </p>\n     \n        <p>\n          NOTE : This page is only accessible by signed in users.\n        </p>\n      </div>\n    );\n  }\n}\n\nconst authCondition = authUser => !!authUser;\n\nexport default withAuthorization(authCondition)(HomePage); //grants authorization to open endpoint if an user is signed in\n"]},"metadata":{},"sourceType":"module"}