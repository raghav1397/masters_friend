{"ast":null,"code":"import _defineProperty from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raghav/Documents/cc/masters/mastersfriend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{storage}from'../firebase/auth';import withAuthorization from\"./withAuthorization\";import{db}from\"../firebase\";import Select from'react-select';import axios from'axios';// import ReactDom from 'react-dom';\nvar HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(){var _this;_classCallCheck(this,HomePage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:null,username:'',loading:true,first_name:'',last_name:'',email:'',grade:'',update:0,gre:'',we:'',toefl:'',resume:'',sop:'',entry:'',uid:'',redirect:null,lor1:'',lor2:'',lor3:'',lor4:''};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=function(e){e.preventDefault();console.log(_this.state);var fileInput1=document.getElementById('file-id');var resume1=fileInput1.files[0];var resume_name=_this.state.uid+'_resume.pdf';var fileInput2=document.getElementById('file-id2');var sop1=fileInput2.files[0];var sop_name=_this.state.uid+'_sop.pdf';if(resume1){resume1=new File([resume1],resume_name,{type:resume1.type});console.log(resume1);var uploadTask1=storage.ref(\"resume/\".concat(_this.state.uid,\"/\").concat(resume1.name)).put(resume1);uploadTask1.on('state_changed',function(snapshot){// progrss function ....\nvar progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);console.log(progress);// this.setState({progress});\n},function(error){// error function ....\nconsole.log(error);});}if(sop1){sop1=new File([sop1],sop_name,{type:sop1.type});var uploadTask2=storage.ref(\"sop/\".concat(_this.state.uid,\"/\").concat(sop1.name)).put(sop1);uploadTask2.on('state_changed',function(snapshot){// progrss function ....\nvar progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);console.log(progress);// this.setState({progress});\n},function(error){// error function ....\nconsole.log(error);});}db.doCreateFrom(_this.state.username,_this.state.email,_this.state.first_name,_this.state.last_name,_this.state.grade,_this.state.gre,_this.state.we,_this.state.toefl,_this.state.uid,_this.state.lor1,_this.state.lor2,_this.state.lor3,_this.state.lor4).then(function(){_this.props.history.push('/Predict');}).catch(function(error){});axios.post('https://masters-backend-1.wl.r.appspot.com/',{// username: this.state.username,\n// first_name: this.state.first_name,\n// last_name: this.state.last_name,\n'email':_this.state.email.toString(),'grade':_this.state.grade,'gre':_this.state.gre,'work_ex':_this.state.we,'toefl':_this.state.toefl,'uid':_this.state.uid.toString(),'lor1':_this.state.lor1,'lor2':_this.state.lor2,'lor3':_this.state.lor3,'lor4':_this.state.lor4}).then(function(response){console.log(response);},function(error){console.log(error);});};return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var loggedUser=this.props.loggedUser;if(loggedUser){db.doGetAnUnser(loggedUser.uid).then(function(res){_this2.setState({username:res.val().username,email:res.val().email,loading:false,uid:loggedUser.uid});console.log(res.val());});}else{this.props.history.push('/SignIn');}}},{key:\"updateStatelor1\",value:function updateStatelor1(element){this.setState({lor1:element});console.log(this.state.lor1.value);}},{key:\"updateStatelor2\",value:function updateStatelor2(element){this.setState({lor2:element});console.log(this.state.lor2.value);}},{key:\"updateStatelor3\",value:function updateStatelor3(element){this.setState({lor3:element});console.log(this.state.lor3.value);}},{key:\"updateStatelor4\",value:function updateStatelor4(element){this.setState({lor4:element});console.log(this.state);}},{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,loading=_this$state.loading;var options=[{value:'6',label:'Professor (or) Manager'},{value:'4',label:'Associate Professor (or) Team Leader'},{value:'2',label:'Assistant Professor (or) Co-Worker'}];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"University Suggestor\"),!loading&&/*#__PURE__*/React.createElement(\"p\",{className:\"centered\"},\"Hello \",username,\"!\"),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"h1\",{className:\"h3 mb-3 font-weight-normal\"},\"Fill this Form\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"First name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"first_name\",placeholder:\"Enter your first name\",value:this.state.first_name,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Last name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"last_name\",placeholder:\"Enter your last name\",value:this.state.last_name,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"grade\"},\"College CGPA\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"grade\",placeholder:\"Enter Score\",value:this.state.grade,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"gre\"},\"GRE\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"gre\",placeholder:\"Enter Score\",value:this.state.gre,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"we\"},\"Work Experience (Months)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"we\",placeholder:\"Enter Months\",value:this.state.we,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"toefl\"},\"TOEFL/IELTS Score\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",pattern:\"[0-9]*\",name:\"toefl\",placeholder:\"Enter Score\",value:this.state.toefl,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor1\"},\"Designation of your LOR Provider 1\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor1\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor1,options:options,onChange:this.updateStatelor1.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor2\"},\"Designation of your LOR Provider 2\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor2\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor2,options:options,onChange:this.updateStatelor2.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor3\"},\"Designation of your LOR Provider 3\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor3\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor3,options:options,onChange:this.updateStatelor3.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"lor4\"},\"Designation of your LOR Provider 4\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Select,{name:\"lor4\",defaultValue:{label:\"None\",value:\"-1\"},value:this.state.lor4,options:options,onChange:this.updateStatelor4.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"resume\"},\"Upload Resume\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"file-id\",name:\"resume\",className:\"form-control\"// value={this.state.resume}\n,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"sop\"},\"Upload SOP\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"file-id2\",name:\"sop\",className:\"form-control\"// value={this.state.sop}\n// onChange={this.onChange}\n})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-lg btn-primary btn-block\"},\"Submit!\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"IMPORTANT : Make sure to fill all the fields or else confidence score of your univesity suggestion may reduce !!!!\"),/*#__PURE__*/React.createElement(\"p\",null,\"NOTE : This page is only accessible by signed in users.\"));}}]);return HomePage;}(Component);var authCondition=function authCondition(authUser){return!!authUser;};export default withAuthorization(authCondition)(HomePage);//grants authorization to open endpoint if an user is signed in","map":{"version":3,"sources":["/Users/raghav/Documents/cc/masters/mastersfriend/src/components/Home.js"],"names":["React","Component","storage","withAuthorization","db","Select","axios","HomePage","state","users","username","loading","first_name","last_name","email","grade","update","gre","we","toefl","resume","sop","entry","uid","redirect","lor1","lor2","lor3","lor4","onChange","e","setState","target","name","value","onSubmit","preventDefault","console","log","fileInput1","document","getElementById","resume1","files","resume_name","fileInput2","sop1","sop_name","File","type","uploadTask1","ref","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","uploadTask2","doCreateFrom","then","props","history","push","catch","post","toString","response","loggedUser","doGetAnUnser","res","val","element","options","label","updateStatelor1","bind","updateStatelor2","updateStatelor3","updateStatelor4","authCondition","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {storage} from '../firebase/auth';\nimport withAuthorization from \"./withAuthorization\";\nimport { db } from \"../firebase\";\nimport Select from 'react-select';\nimport axios from 'axios';\n// import ReactDom from 'react-dom';\n\nclass HomePage extends Component {\n  state = {\n    users: null,\n    username: '',\n    loading: true,\n    first_name: '',\n    last_name: '',\n    email: '',\n    grade: '',\n    update: 0,\n    gre: '',\n    we: '',\n    toefl:'',\n    resume: '',\n    sop: '',\n    entry: '',\n    uid: '',\n    redirect: null,\n    lor1: '',\n    lor2: '',\n    lor3: '',\n    lor4: ''\n  };\n\n  \n  componentDidMount() {\n\n    const { loggedUser } = this.props;\n    if(loggedUser)\n    {\n    db.doGetAnUnser(loggedUser.uid).then(res => {\n      this.setState({\n        username: res.val().username,\n        email: res.val().email,\n        loading: false,\n        uid: loggedUser.uid\n      });\n      console.log(res.val())\n     \n    });\n    }\n    else{\n      this.props.history.push('/SignIn')\n    }\n  }\n\n  onChange = (e) => { \n    this.setState({ [e.target.name]: e.target.value })  \n  }\n  onSubmit = (e) => {\n    e.preventDefault()\n    console.log(this.state)\n    const fileInput1 = document.getElementById('file-id');\n    var resume1 = fileInput1.files[0];\n    const resume_name = this.state.uid + '_resume.pdf';\n    const fileInput2 = document.getElementById('file-id2');\n    var sop1 = fileInput2.files[0];\n    const sop_name = this.state.uid + '_sop.pdf';\n    if(resume1)\n    {\n      resume1 = new File([resume1], resume_name, { type: resume1.type });\n      console.log(resume1)\n      const uploadTask1 = storage.ref(`resume/${this.state.uid}/${resume1.name}`).put(resume1);\n      uploadTask1.on('state_changed', \n      (snapshot) => {\n        // progrss function ....\n        const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        console.log(progress)\n        // this.setState({progress});\n      }, \n      (error) => {\n           // error function ....\n        console.log(error);\n      });\n    }\n    if(sop1)\n    {\n    sop1 = new File([sop1], sop_name, { type: sop1.type });\n      const uploadTask2 = storage.ref(`sop/${this.state.uid}/${sop1.name}`).put(sop1);\n      \n    uploadTask2.on('state_changed', \n      (snapshot) => {\n        // progrss function ....\n        const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        console.log(progress)\n        // this.setState({progress});\n      }, \n      (error) => {\n           // error function ....\n        console.log(error);\n      });\n    }\n  \n      db.doCreateFrom(this.state.username,this.state.email,this.state.first_name,this.state.last_name,this.state.grade,this.state.gre,this.state.we,this.state.toefl,this.state.uid,this.state.lor1,this.state.lor2,this.state.lor3,this.state.lor4)\n          .then(() => {\n            this.props.history.push('/Predict')\n          })\n          .catch(error => {\n          });\n\n          axios.post('https://masters-backend-1.wl.r.appspot.com/', {\n            // username: this.state.username,\n            // first_name: this.state.first_name,\n            // last_name: this.state.last_name,\n            'email': (this.state.email).toString(),\n            'grade': this.state.grade,\n            'gre': this.state.gre,\n            'work_ex': this.state.we,\n            'toefl': this.state.toefl,\n            'uid': (this.state.uid).toString(),\n            'lor1': this.state.lor1,\n            'lor2': this.state.lor2,\n            'lor3': this.state.lor3,\n            'lor4': this.state.lor4\n          })\n          .then((response) => {\n            console.log(response);\n          }, (error) => {\n            console.log(error);\n          });\n\n  }\n\n  updateStatelor1(element) {\n    this.setState({\n      lor1: element\n    });\n    console.log(this.state.lor1.value)\n  }\n  updateStatelor2(element) {\n    this.setState({\n      lor2: element\n    });\n    console.log(this.state.lor2.value)\n  }\n  updateStatelor3(element) {\n    this.setState({\n      lor3: element\n    });\n    console.log(this.state.lor3.value)\n  }\n  updateStatelor4(element) {\n    this.setState({\n      lor4: element\n    });\n    console.log(this.state)\n  }\n\n  render() {\n    const { username, loading } = this.state;\n    var options = [\n        { value: '6' , label: 'Professor (or) Manager' },\n        { value: '4', label: 'Associate Professor (or) Team Leader' },\n        { value: '2', label: 'Assistant Professor (or) Co-Worker' }\n    ];\n\n    return (\n      <div>\n        <h1>University Suggestor</h1>\n        {!loading && <p className=\"centered\">Hello {username}!</p>}\n          <form noValidate onSubmit={this.onSubmit}>\n            <h1 className=\"h3 mb-3 font-weight-normal\">Fill this Form</h1>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">First name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"first_name\"\n                placeholder=\"Enter your first name\"\n                value={this.state.first_name}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Last name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"last_name\"\n                placeholder=\"Enter your last name\"\n                value={this.state.last_name}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"grade\">College CGPA</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"grade\"\n                placeholder=\"Enter Score\"\n                value={this.state.grade}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"gre\">GRE</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"gre\"\n                placeholder=\"Enter Score\"\n                value={this.state.gre}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"we\">Work Experience (Months)</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"we\"\n                placeholder=\"Enter Months\"\n                value={this.state.we}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"toefl\">TOEFL/IELTS Score</label>\n              <input\n                type=\"number\" \n                className=\"form-control\"\n                pattern=\"[0-9]*\"\n                name=\"toefl\"\n                placeholder=\"Enter Score\"\n                value={this.state.toefl}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"lor1\">Designation of your LOR Provider 1</label>\n              <div>\n              <Select\n                name=\"lor1\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor1}\n                options={options}\n                onChange={this.updateStatelor1.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor2\">Designation of your LOR Provider 2</label>\n              <div>\n              <Select\n                name=\"lor2\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor2}\n                options={options}\n                onChange={this.updateStatelor2.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor3\">Designation of your LOR Provider 3</label>\n              <div>\n              <Select\n                name=\"lor3\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor3}\n                options={options}\n                onChange={this.updateStatelor3.bind(this)}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n              <label htmlFor=\"lor4\">Designation of your LOR Provider 4</label>\n              <div>\n              <Select\n                name=\"lor4\"\n                defaultValue={{ label: \"None\", value: \"-1\" }}\n                value={this.state.lor4}\n                options={options}\n                onChange={this.updateStatelor4.bind(this)}\n              />\n            </div>\n          </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"resume\">Upload Resume</label>\n              <input\n                type=\"file\" \n                id=\"file-id\"\n                name=\"resume\"\n                className=\"form-control\"\n                // value={this.state.resume}\n                onChange={this.onChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"sop\">Upload SOP</label>\n              <input\n                type=\"file\" \n                id=\"file-id2\"\n                name=\"sop\"\n                className=\"form-control\"\n                // value={this.state.sop}\n                // onChange={this.onChange}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"btn btn-lg btn-primary btn-block\"\n            >\n              Submit!\n            </button>\n          </form>\n          <br></br>\n        <p>\n          IMPORTANT : Make sure to fill all the fields or else confidence score of your univesity suggestion may reduce !!!!\n          </p>\n     \n        <p>\n          NOTE : This page is only accessible by signed in users.\n        </p>\n      </div>\n    );\n  }\n}\n\nconst authCondition = authUser => !!authUser;\n\nexport default withAuthorization(authCondition)(HomePage); //grants authorization to open endpoint if an user is signed in\n"]},"metadata":{},"sourceType":"module"}